<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>The Truncated Exponential Family — rtrunc • TruncExpFam</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="The Truncated Exponential Family — rtrunc"><meta property="og:description" content='Random generation for the truncated exponential family distributions. Please ferer to the "Details" and "Examples" section for more information on how to use this function.'><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">TruncExpFam</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ocbe-uio/TruncExpFam/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The Truncated Exponential Family</h1>
    <small class="dont-index">Source: <a href="https://github.com/ocbe-uio/TruncExpFam/blob/HEAD/R/a_rtrunc.R" class="external-link"><code>R/a_rtrunc.R</code></a>, <a href="https://github.com/ocbe-uio/TruncExpFam/blob/HEAD/R/beta.R" class="external-link"><code>R/beta.R</code></a>, <a href="https://github.com/ocbe-uio/TruncExpFam/blob/HEAD/R/binomial.R" class="external-link"><code>R/binomial.R</code></a>, and 10 more</small>
    <div class="hidden name"><code>rtrunc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Random generation for the truncated exponential family distributions. Please ferer to the "Details" and "Examples" section for more information on how to use this function.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">rtrunc</span><span class="op">(</span><span class="va">n</span>, family <span class="op">=</span> <span class="st">"gaussian"</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">rtruncbeta</span><span class="op">(</span><span class="va">n</span>, <span class="va">shape1</span>, <span class="va">shape2</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

<span class="fu">rtruncbinom</span><span class="op">(</span><span class="va">n</span>, <span class="va">size</span>, <span class="va">prob</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="va">size</span><span class="op">)</span>

<span class="fu">rtruncchisq</span><span class="op">(</span><span class="va">n</span>, <span class="va">df</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>

<span class="fu">rtrunccontbern</span><span class="op">(</span><span class="va">n</span>, <span class="va">lambda</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>

<span class="fu">rtruncexp</span><span class="op">(</span><span class="va">n</span>, rate <span class="op">=</span> <span class="fl">1</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>

<span class="fu">rtruncgamma</span><span class="op">(</span><span class="va">n</span>, <span class="va">shape</span>, rate <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="va">rate</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>

<span class="fu">rtruncinvgamma</span><span class="op">(</span><span class="va">n</span>, <span class="va">shape</span>, rate <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="va">rate</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>

<span class="fu">rtruncinvgauss</span><span class="op">(</span><span class="va">n</span>, <span class="va">m</span>, <span class="va">s</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>

<span class="fu">rtrunclnorm</span><span class="op">(</span><span class="va">n</span>, <span class="va">meanlog</span>, <span class="va">sdlog</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>

<span class="fu">rtruncnbinom</span><span class="op">(</span><span class="va">n</span>, <span class="va">size</span>, <span class="va">prob</span>, <span class="va">mu</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>

<span class="fu">rtruncnorm</span><span class="op">(</span><span class="va">n</span>, <span class="va">mean</span>, <span class="va">sd</span>, a <span class="op">=</span> <span class="op">-</span><span class="cn">Inf</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span>

<span class="fu">rtruncpois</span><span class="op">(</span><span class="va">n</span>, <span class="va">lambda</span>, a <span class="op">=</span> <span class="fl">0</span>, b <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>n</dt>
<dd><p>sample size</p></dd>
<dt>family</dt>
<dd><p>distribution family to use</p></dd>
<dt>...</dt>
<dd><p>individual arguments to each distribution</p></dd>
<dt>shape1</dt>
<dd><p>positive shape parameter alpha</p></dd>
<dt>shape2</dt>
<dd><p>positive shape parameter beta</p></dd>
<dt>a</dt>
<dd><p>point of left truncation</p></dd>
<dt>b</dt>
<dd><p>point of right truncation</p></dd>
<dt>size</dt>
<dd><p>target for number of successful trials,
or dispersion parameter (the shape parameter of the gamma mixing
distribution). Must be strictly positive, need not be integer.</p></dd>
<dt>prob</dt>
<dd><p>probability of success on each trial</p></dd>
<dt>df</dt>
<dd><p>degrees of freedom for "parent" distribution</p></dd>
<dt>lambda</dt>
<dd><p>mean and var of "parent" distribution</p></dd>
<dt>rate</dt>
<dd><p>inverse gamma rate parameter</p></dd>
<dt>shape</dt>
<dd><p>inverse gamma shape parameter</p></dd>
<dt>scale</dt>
<dd><p>inverse gamma scale parameter</p></dd>
<dt>m</dt>
<dd><p>vector of means</p></dd>
<dt>s</dt>
<dd><p>vector of dispersion parameters</p></dd>
<dt>meanlog</dt>
<dd><p>mean of un-truncated distribution</p></dd>
<dt>sdlog</dt>
<dd><p>standard deviation of un-truncated distribution</p></dd>
<dt>mu</dt>
<dd><p>alternative parametrization via mean</p></dd>
<dt>mean</dt>
<dd><p>mean of parent distribution</p></dd>
<dt>sd</dt>
<dd><p>standard deviation is parent distribution</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A sample of size n drawn from a truncated distribution
vector of one of the <code>rtrunc_*</code> classes containing the sample
elements, as well as some attributes related to the chosen distribution.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>One way to use this function is by calling the <code>rtrunc</code>
generic with the <code>family</code> parameter of your choice. You can also
specifically call one of the methods (e.g. <code>rtrunc.poisson(10, lambda=3)</code>
instead of `rtrunc(10, family="poisson", lambda=3)). The latter is more
flexible (i.e., easily programmable) and more robust (i.e., it contains
better error handling and validation procedures), while the former better
conforms with the nomenclature from other distribution-related functions in
the <code>stats</code> package.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The current sample-generating algorithm may be slow if the distribution
is largely represented by low-probability values. This will be fixed soon.
Please follow <a href="https://github.com/ocbe-uio/TruncExpFam/issues/72" class="external-link">https://github.com/ocbe-uio/TruncExpFam/issues/72</a> for
details.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>René Holst, Waldir Leôncio</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Truncated binomial distribution</span></span>
<span class="r-in"><span class="va">sample.binom</span> <span class="op">&lt;-</span> <span class="fu">rtrunc</span><span class="op">(</span><span class="fl">100</span>, family <span class="op">=</span> <span class="st">"binomial"</span>, prob <span class="op">=</span> <span class="fl">0.6</span>, size <span class="op">=</span> <span class="fl">20</span>, a <span class="op">=</span> <span class="fl">4</span>, b <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span class="r-in"><span class="va">sample.binom</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 10  8 10 10 10  9  9  8  6  9 10 10 10  9  9  9 10  9  9  9  9  9 10 10 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26] 10  9 10  9  8 10 10  8 10  8  9  7  9  9 10 10 10 10  9 10 10 10  7  8 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] 10  9  9  8  9  9  9 10 10  6 10  9 10 10  8 10 10 10 10  9  9 10  7 10  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76]  9  7 10  8 10  8 10 10 10 10  9  9 10  9 10  9  8  9  9 10  9  8  9  9  8</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sample.binom</span><span class="op">)</span>, ylab <span class="op">=</span> <span class="st">"Frequency"</span>, main <span class="op">=</span> <span class="st">"Freq. of sampled values"</span><span class="op">)</span></span>
<span class="r-plt img"><img src="rtrunc-1.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Truncated Log-Normal distribution</span></span>
<span class="r-in"><span class="va">sample.lognorm</span> <span class="op">&lt;-</span> <span class="fu">rtrunc</span><span class="op">(</span></span>
<span class="r-in">  n <span class="op">=</span> <span class="fl">100</span>, family <span class="op">=</span> <span class="st">"lognormal"</span>, meanlog <span class="op">=</span> <span class="fl">2.5</span>, sdlog <span class="op">=</span> <span class="fl">0.5</span>, a <span class="op">=</span> <span class="fl">7</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">sample.lognorm</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   7.108  10.249  13.242  15.312  17.029  43.133 </span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="va">sample.lognorm</span>,</span>
<span class="r-in">  nclass <span class="op">=</span> <span class="fl">35</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">60</span><span class="op">)</span>, freq <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span class="r-in">  ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.15</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-plt img"><img src="rtrunc-2.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Normal distribution</span></span>
<span class="r-in"><span class="va">sample.norm</span> <span class="op">&lt;-</span> <span class="fu">rtrunc</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span>, mean <span class="op">=</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">1.5</span>, a <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sample.norm</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  3.0710824  3.8145637  1.9892382  1.6361534 -0.4305508  2.3732429</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">sample.norm</span>, nclass <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span>
<span class="r-plt img"><img src="rtrunc-3.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Gamma distribution</span></span>
<span class="r-in"><span class="va">sample.gamma</span> <span class="op">&lt;-</span> <span class="fu">rtrunc</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">100</span>, family <span class="op">=</span> <span class="st">"gamma"</span>, shape <span class="op">=</span> <span class="fl">6</span>, rate <span class="op">=</span> <span class="fl">2</span>, a <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">sample.gamma</span>, nclass <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span>
<span class="r-plt img"><img src="rtrunc-4.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Poisson distribution</span></span>
<span class="r-in"><span class="va">sample.pois</span> <span class="op">&lt;-</span> <span class="fu">rtrunc</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, family <span class="op">=</span> <span class="st">"poisson"</span>, lambda <span class="op">=</span> <span class="fl">10</span>, a <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span class="r-in"><span class="va">sample.pois</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10  8  9  6  8  7 12 10  8  7</span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">sample.pois</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="rtrunc-5.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by René Holst, Waldir Leoncio.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

